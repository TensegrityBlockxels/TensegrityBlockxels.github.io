<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title></title>
	<link rel="stylesheet" href="/styles/style.css"/>
  </head>
  <body>
  	<header id="bannerContainer">
	</header>
	<main>
		<h1>Subscribe</h1>
<h3>RSS</h3>
<ul>
	<li><a href="/feed.xml">Blog RSS</a></li>
	<li><a href="/projects.xml">Project RSS</a></li>
</ul>
<h3>JSON Feed</h3>
<ul>
	<li><a href="/feed.json">Blog JSON Feed</a></li>
	<li><a href="/projects.json">Project JSON Feed</a></li>
</ul>


	</main>
  </body>
  
<script defer>
	//js
	let size = 64
	const header = document.getElementById('bannerContainer')
	let bannerAddIcons = (sw, me, target) => {
		const numberOfIcons = sw / size - me 
		for (let i = 0; i < numberOfIcons; i++) {
			header.insertAdjacentHTML('beforeend', ` <svg
	   width='64px'
	   height='30px'
	   viewBox="0 0 139.60616 38.000904"
	   version="1.1"
	   id="svg5"
	   xmlns="http://www.w3.org/2000/svg"
	   xmlns:svg="http://www.w3.org/2000/svg">
	  <defs
		 id="defs2" />
	  <g
		 id="layer1"
		 transform="translate(-8.9956104,-5.0388649)">
		<rect
		style=fill:#73e5d0;fill-rule:evenodd;stroke-width:10;stroke-miterlimit:1;stroke-opacity:0
		   id="rect788"
		   width="139.60616"
		   height="15.631577"
		   x="8.9956102"
		   y="5.0388651" />
		<rect
		   style=fill:#73e5d0;fill-rule:evenodd;stroke-width:10;stroke-miterlimit:1;stroke-opacity:0
		   id="rect1516"
		   width="38.809437"
		   height="10.780399"
		   x="8.9956102"
		   y="32.259373" />
		<rect
		   style=fill:#73e5d0;fill-rule:evenodd;stroke-width:10;stroke-miterlimit:1;stroke-opacity:0
		   id="rect2356"
		   width="38.809437"
		   height="10.780399"
		   x="59.393967"
		   y="32.259373" />
		<rect
		   style=fill:#73e5d0;fill-rule:evenodd;stroke-width:10;stroke-miterlimit:1;stroke-opacity:0
		   id="rect2356-1"
		   width="38.809437"
		   height="10.780399"
		   x="109.79233"
		   y="32.259373" />
	  </g>
	</svg> `)
		}
	}

	let screenWidth = window.screen.width 
	bannerAddIcons(screenWidth, 4, header)

	let update = () => {
		console.log("resize!")

		let screenWidth = window.screen.width
		while(header.firstChild) {
			header.removeChild(header.firstChild)
		}
		if (screenWidth < 950) {
			bannerAddIcons(screenWidth, 2)
		}
		if (screenWidth > 950) {
			bannerAddIcons(screenWidth, 4)
		}
	}
	const triggerTimes = []

	let timeout = () => {
		if (Date.now() - triggerTimes.slice(-1) > 70) {
			update()
		}
		triggerTimes.push(Date.now())
		if (triggerTimes.length > 16) {
			triggerTimes.splice(triggerTimes.length - 15, 15)
		}

	}
	window.onresize = timeout;
</script>

  <script defer>
	let projectsDiv = document.getElementById('projects')

	const response = fetch('https://api.github.com/users/TensegrityBlockxels/repos').then(response => response.json()).then(data => {
		console.log(data)
		for (const [key, value] of Object.entries(data)) {
		  const project = value
		  console.log(project)
		  let projectTemplate = `<li><div class="card">
	<h2><a href="urlx">namex</a></h2>
	<span>descriptionx</span>
</div></li>`
		  projectTemplate = projectTemplate.replace("urlx", project.html_url)
		  projectTemplate = projectTemplate.replace("namex", project.name)
		  projectTemplate = projectTemplate.replace("descriptionx", project.description)

		  projectsDiv.insertAdjacentHTML('beforeend', projectTemplate)

		}
	})
</script>


</html>


